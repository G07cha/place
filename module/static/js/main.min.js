var module$exports$place$canvasCtrl={},module$contents$place$canvasCtrl_element=document.getElementById("canvas");module$exports$place$canvasCtrl.onClick=function(a){return module$contents$place$canvasCtrl_element.addEventListener("click",a)};module$exports$place$canvasCtrl.refresh=function(a){return module$contents$place$canvasCtrl_element.src="/canvas?"+Date.now()};var module$exports$place$utils={},module$contents$place$utils_hexRegex=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;module$exports$place$utils.hexToRGBA=function(a){return(a=module$contents$place$utils_hexRegex.exec(a))?{R:parseInt(a[1],16),G:parseInt(a[2],16),B:parseInt(a[3],16),A:255}:null};var module$exports$place$api={updatePixel:function(a){var b=new XMLHttpRequest;b.open("POST","/set");b.addEventListener("load",function(){if(200===b.status){var a=new Uint8Array(b.response);a=new Blob([a],{type:"image/png"});a=window.URL.createObjectURL(a);canvas.src=a}},!1);b.responseType="arraybuffer";b.setRequestHeader("Content-Type","application/json");b.send(JSON.stringify(a))}};var module$exports$place={},module$contents$place_colorInput=document.getElementById("color-input"),module$contents$place_REFRESH_INTERVAL=5E3;module$exports$place$canvasCtrl.onClick(function(a){return module$exports$place$api.updatePixel({x:a.offsetX,y:a.offsetY,color:module$exports$place$utils.hexToRGBA(module$contents$place_colorInput.value)})});setInterval(module$exports$place$canvasCtrl.refresh.bind(module$exports$place$canvasCtrl),module$contents$place_REFRESH_INTERVAL);
